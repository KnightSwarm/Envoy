<!doctype html>
<html>
	<head>
		<style>
			body {
				background-color: #F5F5F5;
				font-family: sans-serif;
				margin-right: 40px;
			}

			h2, h3, h4, h5, h6, h7
			{
				margin-top: 16px;
				margin-bottom: 4px;
			}

			.children { padding-left: 40px; }

			.definition
			{
				font-weight: bold;
				margin-bottom: 32px;
			}

			.example 
			{ 
				padding: 5px 6px;
				font-weight: bold;
				font-size: 15px;
				background-color: #E6E6E6; 
				margin-top: 11px;
			}

			.example > .children
			{
				padding-top: 11px;
				padding-left: 10px;
			}

			.example > .children > h7
			{
				font-size: 13px;
			}

			h7
			{
				font-size: 14px;
				font-weight: bold;
				margin-bottom: 2px;
			}

			pre
			{
				margin-top: 0px;
				padding: 6px 7px;
				background-color: #D9D9D9;
				font-weight: normal;
				font-size: 13px;
			}

			dl
			{
				margin: 5px 0px;
			}

			dt
			{
				font-weight: bold;
			}

			dd
			{
				font-size: 14px;
				font-weight: normal;
				margin-left: 8px;
			}
			
			dd > .children
			{
				font-size: 95%;
			}
			
			dd > .children > dl > dd
			{
				margin-left: 13px;
			}

			.exclamation
			{
				padding: 7px 8px;
				margin: 11px 0px;
				background-color: #FFE9AA;
				border: 1px solid yellow;
				font-size: 15px;
				font-weight: normal;
			}

			.text
			{
				font-size: 15px;
				font-weight: normal;
				margin-bottom: 14px;
				margin-top: 10px;
			}

			.toc
			{
				border: 1px solid gray;
				background-color: #E6E6E6;
				padding: 8px 9px;
				font-size: 15px;
				margin-bottom: 12px;
			}

			.toc h2
			{
				margin: 0px 0px 3px 0px;
				font-size: 19px;
			}

			.toc ul
			{
				margin-top: 0px;
				margin-bottom: 0px;
				padding-left: 25px;
			}

			.toc li
			{
				margin-bottom: 2px;
			}

			.toc .alternatives
			{
				font-size: 12px;
			}

			.toc a
			{
				color: #292722;
			}

			.toc a:hover
			{
				color: black;
			}
			
			.fixed
			{
				font-family: monospace;
				background-color: white;
				padding: 1px 4px;
				border: 1px solid silver;
				border-radius: 4px;
			}
		</style>
	</head>
	<body>
		<div class="children"><h1>XEP-0045 Plugin: Multi-User Chat</h1><div class="text">The XEP-0045 plugin for SleekXMPP handles interaction with XMPP MUC rooms. This is (partial) documentation for the new version of this plugin, which can currently be found in the <span class="fixed">new_muc</span> branch of the main SleekXMPP repository. It is not yet available in a stable release.</div><h2>Plugin methods</h2><div class="definition"><a name="xmppxep_0045_get_roomsifromjid">xmpp['xep_0045'].get_rooms(<span class="fixed">ifrom=</span>, <span class="fixed">jid=</span>): <div class="children"><div class="text">Retrieves a list of rooms from the specified XMPP conference server.</div><dl><dt>ifrom</dt><dd>Keyword argument. This argument indicates the sender of the request, and must be a JID. It can also just be the JID of your component (accessible via <span class="fixed">xmpp.boundjid</span>).<div class="children"></div></dd></dl><dl><dt>jid</dt><dd>Keyword argument. The conference server to ask for a room list. This is usually a value in the form of <span class="fixed">conference.service.com</span>.<div class="children"></div></dd></dl></div></a></div><div class="definition"><a name="xmppxep_0045_get_usersroomifromaffiliationrole">xmpp['xep_0045'].get_users(<span class="fixed">room</span>, <span class="fixed">ifrom=</span>, <span class="fixed">affiliation=</span>, <span class="fixed">role=</span>) <div class="children"><div class="text">Retrieves a list of users with the given affiliation or role in the room.</div><div class="exclamation"><strong>Important:</strong> You must specify either an affiliation or a role to filter by!   Sending a 'blank' request will not work. <div class="children"></div></div><dl><dt>room</dt><dd>The room to retrieve users for.<div class="children"></div></dd></dl><dl><dt>ifrom</dt><dd>Keyword argument. This argument indicates the sender of the request, and must be a JID. It can also just be the JID of your component (accessible via <span class="fixed">xmpp.boundjid</span>).<div class="children"></div></dd></dl><dl><dt>affiliation</dt><dd><em>Optional.</em> The affiliation to filter the userlist by. Only users with the given affiliation will be returned.<div class="children"><dl><dt>member</dt><dd>A user that is in the member list for a room.<div class="children"></div></dd></dl><dl><dt>admin</dt><dd>A user that has administrative privileges in a room.<div class="children"></div></dd></dl><dl><dt>owner</dt><dd>The owner of a room. Can modify staff lists.<div class="children"></div></dd></dl></div></dd></dl><dl><dt>role</dt><dd><em>Optional.</em> The role to filter the userlist by. Only users with the given role will be returned.<div class="children"><dl><dt>visitor</dt><dd>A user that is present in a moderated room, but does not have 'voice'.<div class="children"></div></dd></dl><dl><dt>participant</dt><dd>A user that is present in an unmoderated room, or a user that is present in a moderated room and has been granted voice.<div class="children"></div></dd></dl><dl><dt>moderator</dt><dd>A user that has certain channel management privileges (eg. kicking users).<div class="children"></div></dd></dl></div></dd></dl></div></a></div><div class="definition"><a name="xmppxep_0045_set_affiliationroomjidaffiliationreasonifrom">xmpp['xep_0045'].set_affiliation(<span class="fixed">room</span>, <span class="fixed">jid</span>, <span class="fixed">affiliation</span>, <span class="fixed">reason=</span>, <span class="fixed">ifrom=</span>) <div class="children"><div class="text">Changes the affiliation for a given user in a given room.</div><dl><dt>room</dt><dd>The room to change the affiliation for.<div class="children"></div></dd></dl><dl><dt>jid</dt><dd>The JID of the user whose affiliation should be changed.<div class="children"></div></dd></dl><dl><dt>affiliation</dt><dd>The new affiliation to set.<div class="children"></div></dd></dl><dl><dt>reason</dt><dd><em>Optional.</em> Keyword argument. The reason for the affiliation change.<div class="children"></div></dd></dl><dl><dt>ifrom</dt><dd>Keyword argument. This argument indicates the sender of the request, and must be a JID. It can also just be the JID of your component (accessible via <span class="fixed">xmpp.boundjid</span>).<div class="children"></div></dd></dl></div></a></div><div class="definition"><a name="xmppxep_0045_set_roleroomjidrolereasonifrom">xmpp['xep_0045'].set_role(<span class="fixed">room</span>, <span class="fixed">jid</span>, <span class="fixed">role</span>, <span class="fixed">reason=</span>, <span class="fixed">ifrom=</span>) <div class="children"><div class="text">Changes the role for a given user in a given room.</div><dl><dt>room</dt><dd>The room to change the role for.<div class="children"></div></dd></dl><dl><dt>jid</dt><dd>The JID of the user whose role should be changed.<div class="children"></div></dd></dl><dl><dt>role</dt><dd>The new role to set.<div class="children"></div></dd></dl><dl><dt>reason</dt><dd><em>Optional.</em> Keyword argument. The reason for the role change.<div class="children"></div></dd></dl><dl><dt>ifrom</dt><dd>Keyword argument. This argument indicates the sender of the request, and must be a JID. It can also just be the JID of your component (accessible via <span class="fixed">xmpp.boundjid</span>).<div class="children"></div></dd></dl></div></a></div></div>
	</body>
</html>
